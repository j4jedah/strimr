{"version":3,"sources":["components/graphql/mutations.js","components/AddSong.js","components/Header.js","components/graphql/subscriptions.js","components/SongList.js","components/graphql/queries.js","components/QueuedSongList.js","components/SongPlayer.js","components/reducer.js","App.js","components/theme.js","components/graphql/client.js","index.js"],"names":["ADD_OR_REMOVE_FROM_QUEUE","gql","ADD_SONG","useStyles","makeStyles","theme","container","display","alignItems","marginTop","urlInput","margin","spacing","addSongBtn","dialogContent","textAlign","thumbnail","width","borderRadius","DEFAULT_SONG","duration","title","artist","AddSong","useMutation","addSong","React","useState","dialog","setDialog","url","setUrl","playable","setPlayable","song","setSong","handleChangeSong","event","target","name","value","prevSong","a","player","nestedPlayer","getVideoData","songData","getYouTubeInfo","getCurrentSound","getSoundCloudInfo","variables","length","err","console","error","getDuration","author","video_id","Promise","resolve","Number","user","username","artwork_url","replace","useEffect","isPlayable","SoundCloudPlayer","canPlay","YouTubePlayer","thumbnailStyle","className","Dialog","open","onClose","DialogTitle","DialogContent","src","alt","TextField","onChange","type","fullWidth","label","required","DialogActions","Button","color","onClick","variant","e","placeholder","InputProps","startAdornment","InputAdornment","position","Link","disabled","endIcon","AddBox","hidden","onReady","marginLeft","Header","AppBar","Toolbar","HeadsetMicOutlined","Typography","component","GET_SONGS","songInfoContainer","songContainer","objectFit","height","songInfo","justifyContent","minWidth","maxHeight","textOverflow","overflow","Song","classes","higherThanSm","useMediaQuery","breakpoints","up","onCompleted","data","localStorage","setItem","JSON","stringify","addOrRemoveFromQueue","useContext","SongContext","state","dispatch","currentSongPlaying","setCurrentSongPlaying","isSongPlaying","isPlaying","id","Card","CardMedia","image","CardContent","style","gutterBottom","CardActions","IconButton","payload","size","Pause","PlayArrow","input","__typename","Save","SongList","useSubscription","loading","flexDirection","CircularProgress","log","songs","map","GET_QUEUED_SONGS","avatar","text","gridAutoFlow","gridTemplateColumns","gridGap","whiteSpace","QueuedSong","Avatar","window","confirm","Delete","QueuedSongList","queue","scrollbarWidth","details","padding","content","flex","controls","paddingLeft","paddingRight","playIcon","SongPlayer","positionInQueue","setPositionInQueue","useQuery","songIndex","findIndex","played","setPlayed","nextSong","seconds","seeking","setSeeking","playedSeconds","setPlayedSeconds","reactPlayerRef","useRef","SkipPrevious","PauseSharp","SkipNext","songNext","Date","toISOString","substr","Slider","newValue","onMouseDown","onMouseUp","current","seekTo","min","max","step","ref","onProgress","playing","songReducer","action","createContext","App","initialSong","useReducer","greaterThanSm","greaterThanMd","Provider","Hidden","only","Grid","item","xs","md","paddingTop","top","right","left","bottom","createTheme","palette","primary","teal","secondary","purple","client","ApolloClient","link","WebSocketLink","uri","options","reconnect","connectionParams","headers","contentType","process","cache","InMemoryCache","typeDefs","resolvers","Mutation","_","queryResult","readQuery","query","newQueue","some","filter","writeQuery","Boolean","getItem","parse","writeData","ReactDOM","render","StrictMode","ApolloProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.7f4b5f52.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\nexport const ADD_OR_REMOVE_FROM_QUEUE = gql`\n    mutation addOrRemoveFromQueue($input: SongInput!) {\n    addOrRemoveFromQueue(input: $input) @client\n  }\n`;\n\nexport const ADD_SONG = gql`\n  mutation addSong(\n    $title: String\n    $duration: Float\n    $artist: String\n    $thumbnail: String\n    $url: String\n  ) {\n    insert_songs(\n      objects: {\n        artist: $artist\n        duration: $duration\n        thumbnail: $thumbnail\n        url: $url\n        title: $title\n      }\n    ) {\n      affected_rows\n    }\n  }\n`;\n","import { useMutation } from '@apollo/client'\nimport { TextField, InputAdornment, Button, Dialog, DialogTitle, DialogContent, DialogActions, makeStyles } from '@material-ui/core'\nimport { AddBox, Link } from '@material-ui/icons'\nimport React from 'react'\nimport ReactPlayer from 'react-player'\nimport SoundCloudPlayer from 'react-player/soundcloud'\nimport YouTubePlayer from 'react-player/youtube'\nimport { ADD_SONG } from './graphql/mutations'\n\n\n\nconst useStyles = makeStyles( theme => ( {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n        marginTop: 20\n    },\n    urlInput: {\n        margin: theme.spacing( 1 )\n    },\n    addSongBtn: {\n        margin: theme.spacing( 1 )\n    },\n    dialogContent: {\n        textAlign: 'center',\n    },\n    thumbnail: {\n        width: '90%',\n        borderRadius: '2%'\n    }\n\n} ) )\n\nconst DEFAULT_SONG = {\n\n    duration: 0,\n    title: '',\n    artist: '',\n    thumbnail: ''\n}\n\n\n\nfunction AddSong () {\n    const [ addSong ] = useMutation( ADD_SONG )\n    const [ dialog, setDialog ] = React.useState( false )\n    const [ url, setUrl ] = React.useState( '' )\n    const [ playable, setPlayable ] = React.useState( false )\n\n    const [ song, setSong ] = React.useState( DEFAULT_SONG )\n\n    React.useEffect( () => {\n        const isPlayable = SoundCloudPlayer.canPlay( url ) || YouTubePlayer.canPlay( url )\n        setPlayable( isPlayable )\n    }, [ url ] )\n\n    function handleChangeSong ( event ) {\n        const { name, value } = event.target\n        setSong( prevSong => ( {\n            ...prevSong,\n            [ name ]: value\n        } ) )\n    }\n\n    async function handleSongEdit ( { player } ) {\n        const nestedPlayer = player.player.player\n        let songData\n        if ( nestedPlayer.getVideoData )\n        {\n            songData = getYouTubeInfo( nestedPlayer )\n        } else if ( nestedPlayer.getCurrentSound )\n        {\n            songData = await getSoundCloudInfo( nestedPlayer )\n        }\n        setSong( { ...songData, url } )\n    }\n\n    async function handleAddSong () {\n        try\n        {\n            const { title, artist, thumbnail, duration } = song\n            addSong( {\n                variables: {\n                    url: url.length > 0 ? url : null,\n                    artist: artist.length > 0 ? artist : null,\n                    title: title.length > 0 ? title : null,\n                    duration: duration > 0 ? duration : null,\n                    thumbnail: thumbnail.length > 0 ? thumbnail : null,\n                }\n            } )\n            setSong( DEFAULT_SONG )\n            setDialog( false )\n            setUrl( '' )\n        } catch ( err )\n        {\n            console.error( 'Error adding song', err )\n        }\n\n    }\n\n    function getYouTubeInfo ( player ) {\n        const duration = player.getDuration()\n        const { title, author, video_id } = player.getVideoData()\n        const thumbnail = `https://img.youtube.com/vi/${video_id}/0.jpg`\n        return { title, duration, thumbnail, artist: author }\n    }\n    function getSoundCloudInfo ( player ) {\n        return new Promise( resolve => {\n            player.getCurrentSound( songData => {\n                if ( songData )\n                {\n                    resolve( {\n                        duration: Number( songData.duration / 1000 ),\n                        title: songData.title,\n                        artist: songData.user.username,\n                        thumbnail: songData.artwork_url.replace( '-large', '-t500x500' )\n                    } )\n                }\n            } )\n        } )\n\n\n    }\n\n    const { container, addSongBtn, urlInput, dialogContent, thumbnailStyle } = useStyles()\n\n    const { thumbnail, title, artist } = song\n    return (\n        <div className={container}>\n            <Dialog\n                className={dialogContent}\n                open={dialog}\n                // onClose={() => setDialog( false ).isRequired}\n                onClose={false}\n            >\n                <DialogTitle>\n                    Add song\n                </DialogTitle>\n                <DialogContent>\n                    <img className={thumbnailStyle} src={thumbnail} alt='Video thumbnail' />\n                    <TextField\n                        onChange={handleChangeSong}\n                        value={title}\n                        type='text'\n                        fullWidth={true}\n                        margin='dense'\n                        label='Title'\n                        name='title'\n                        required\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        value={artist}\n                        type='text'\n                        fullWidth={true}\n                        margin='dense'\n                        name='artist'\n                        label='Artist'\n                        required\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        value={thumbnail}\n                        type='text'\n                        fullWidth={true}\n                        margin='dense'\n                        name='thumbnail'\n                        label='Song thumbnail'\n                        required\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        value={url}\n                        // type='text'\n                        fullWidth={true}\n                        margin='dense'\n                        name='url'\n                        label='URL'\n                        required\n                    />\n\n                </DialogContent>\n                <DialogActions >\n                    <Button color='secondary' onClick={() => setDialog( false )}>Cancel</Button>\n                    <Button onClick={handleAddSong} color='primary' variant='outlined' >Add song</Button>\n                </DialogActions>\n            </Dialog>\n            <TextField\n                onChange={( e ) => setUrl( e.target.value )}\n                value={url}\n                className={urlInput}\n                type='url'\n                fullWidth\n                margin='normal'\n                placeholder='Add Soundcloud or Youtube URL'\n                InputProps={{\n                    startAdornment: (\n                        <InputAdornment position='start'>\n                            <Link />\n                        </InputAdornment>\n                    )\n                }}\n            />\n            <Button\n                disabled={!playable}\n                onClick={e => { setDialog( true ) }}\n                className={addSongBtn}\n                variant='contained' color='primary' endIcon={<AddBox />} >\n                Add\n            </Button>\n            <ReactPlayer url={url} hidden onReady={handleSongEdit} />\n        </div> )\n}\n\nexport default AddSong","import React from 'react'\nimport { AppBar, makeStyles, Typography } from '@material-ui/core'\nimport { Toolbar } from '@material-ui/core'\nimport { HeadsetMicOutlined } from '@material-ui/icons'\n\n\nconst useStyles = makeStyles( theme => ( {\n    title: {\n        marginLeft: 20\n    }\n} ) )\n\nfunction Header () {\n    const { title } = useStyles()\n    return (\n        <div>\n            <AppBar position='fixed'>\n                <Toolbar >\n                    <HeadsetMicOutlined />\n                    <Typography variant='h6' component='h1' className={title}>\n                        Apollo Music Share\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </div>\n    )\n}\n\nexport default Header","import { gql } from '@apollo/client'\n\n\nexport const GET_SONGS = gql`\n    subscription getSongs {\n        songs(order_by: {created_at: desc}) {\n        artist\n        title\n        thumbnail\n        url\n        id\n        duration\n    }\n}\n\n`","import { useMutation, useSubscription } from '@apollo/client';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  CircularProgress,\n  IconButton,\n  Typography,\n  CardActions,\n  makeStyles,\n  useMediaQuery,\n} from '@material-ui/core';\nimport { Pause, PlayArrow, Save } from '@material-ui/icons';\nimport React from 'react';\nimport { GET_SONGS } from './graphql/subscriptions';\nimport { SongContext } from '../App';\nimport { ADD_OR_REMOVE_FROM_QUEUE } from './graphql/mutations';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    margin: theme.spacing(3),\n  },\n  songInfoContainer: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  songContainer: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  thumbnail: {\n    objectFit: 'cover',\n    width: 150,\n    height: 150,\n  },\n  songInfo: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  title: {\n    minWidth: 100,\n    maxHeight: 50,\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n  },\n}));\n\nfunction SongList() {\n  const { data, loading, error } = useSubscription(GET_SONGS);\n\n  if (loading) {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          marginTop: 50,\n        }}\n      >\n        <CircularProgress />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          marginTop: 50,\n        }}\n      >\n        Error loading song lists.... Try again later\n        {console.log(error)}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {data.songs.map((song) => (\n        <Song key={song.id} song={song} />\n      ))}\n    </div>\n  );\n}\n\nfunction Song({ song }) {\n  const classes = useStyles();\n  const higherThanSm = useMediaQuery((theme) => theme.breakpoints.up('xs'));\n  const [addOrRemoveFromQueue] = useMutation(ADD_OR_REMOVE_FROM_QUEUE, {\n    onCompleted: (data) =>\n      localStorage.setItem('queue', JSON.stringify(data.addOrRemoveFromQueue)),\n  });\n\n  const { state, dispatch } = React.useContext(SongContext);\n  const [currentSongPlaying, setCurrentSongPlaying] = React.useState(false);\n  React.useEffect(() => {\n    const isSongPlaying = state.isPlaying && song.id === state.song.id;\n    setCurrentSongPlaying(isSongPlaying);\n  }, [song.id, state.isPlaying, state.song.id]);\n\n  function handleTogglePlay() {\n    dispatch({ type: 'SET_SONG', payload: { song } });\n    dispatch(state.isPlaying ? { type: 'PAUSE_SONG' } : { type: 'PLAY_SONG' });\n  }\n\n  function handleAddOrRemoveFromQueue() {\n    addOrRemoveFromQueue({\n      variables: { input: { ...song, __typename: 'Song' } },\n    });\n  }\n  return (\n    <Card className={classes.container}>\n      <div className={classes.songInfoContainer}>\n        <CardMedia image={song.thumbnail} className={classes.thumbnail} />\n        <div className={classes.songInfo}>\n          <CardContent>\n            <Typography\n              className={classes.title}\n              style={{ display: higherThanSm ? '' : 'none' }}\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n            >\n              {song.title}\n            </Typography>\n\n            <Typography variant=\"body1\" component=\"p\" color=\"textSecondary\">\n              {song.artist}\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <IconButton onClick={handleTogglePlay} size=\"small\" color=\"primary\">\n              {currentSongPlaying ? <Pause /> : <PlayArrow />}\n            </IconButton>\n            <IconButton\n              onClick={handleAddOrRemoveFromQueue}\n              size=\"small\"\n              color=\"secondary\"\n            >\n              <Save />\n            </IconButton>\n          </CardActions>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default SongList;\n","import { gql } from '@apollo/client';\n\nexport const GET_QUEUED_SONGS = gql`\n  query getQueuedSongs {\n    queue @client {\n      id\n      title\n      artist\n      thumbnail\n      duration\n      url\n    }\n  }\n`;\n","import { useMutation } from '@apollo/client';\nimport { IconButton, makeStyles, useMediaQuery } from '@material-ui/core';\nimport { Avatar, Typography } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport React from 'react';\nimport { ADD_OR_REMOVE_FROM_QUEUE } from './graphql/mutations';\n\n// const songList = {\n//   title: 'On my way',\n//   artist: 'Alan Walker',\n//   thumbnail:\n//     'https://images.hdqwalls.com/download/alan-walker-on-my-way-2x-1440x900.jpg',\n//   url: 'https://www.youtube.com/watch?v=dhYOPzcsbGM',\n// };\nfunction QueuedSongList({ queue }) {\n  // console.log(queue);\n  const greaterThanMd = useMediaQuery((theme) => theme.breakpoints.up('md'));\n  return (\n    greaterThanMd && (\n      <div style={{ margin: '10px 0' }}>\n        <Typography variant=\"button\" color=\"textSecondary\">\n          Playlist ({queue.length})\n        </Typography>\n        <div\n          style={{\n            '::Webkitscrollbar?': {\n              display: 'none',\n            },\n            maxHeight: 550,\n            overflow: 'auto',\n            scrollbarWidth: 'none',\n          }}\n        >\n          {queue.map((song, id) => (\n            <QueuedSong key={id} song={song} />\n          ))}\n        </div>\n      </div>\n    )\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: 64,\n    height: 64,\n  },\n  text: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  container: {\n    display: 'grid',\n    gridAutoFlow: 'column',\n    gridTemplateColumns: '50px auto 50px',\n    gridGap: 40,\n    alignItems: 'center',\n    marginTop: 30,\n  },\n  songInfoContainer: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n  },\n}));\n\nfunction QueuedSong({ song }) {\n  const classes = useStyles();\n\n  const [addOrRemoveFromQueue] = useMutation(ADD_OR_REMOVE_FROM_QUEUE, {\n    onCompleted: (data) => {\n      localStorage.setItem('queue', JSON.stringify(data.addOrRemoveFromQueue));\n    },\n  });\n  function handleQueuedSongDel() {\n    const confirmDel = window.confirm(\n      'Are you sure you want to remove song from playlist?'\n    );\n    confirmDel &&\n      addOrRemoveFromQueue({\n        variables: { input: { ...song, __typename: 'Song' } },\n      });\n  }\n\n  return (\n    <div className={classes.container}>\n      <Avatar\n        src={song.thumbnail}\n        alt=\"Song thumbnail\"\n        className={classes.avatar}\n      />\n      <div className={classes.songInfoContainer}>\n        <Typography variant=\"subtitle2\" className={classes.text}>\n          {song.title}\n        </Typography>\n        <Typography\n          color=\"textSecondary\"\n          variant=\"body2\"\n          className={classes.text}\n        >\n          {song.artist}\n        </Typography>\n      </div>\n      <IconButton onClick={handleQueuedSongDel}>\n        <Delete color=\"error\" />\n      </IconButton>\n    </div>\n  );\n}\n\nexport default QueuedSongList;\n","import { useQuery } from '@apollo/client';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  IconButton,\n  makeStyles,\n  Slider,\n  Typography,\n} from '@material-ui/core';\nimport {\n  PauseSharp,\n  PlayArrow,\n  SkipNext,\n  SkipPrevious,\n} from '@material-ui/icons';\nimport React from 'react';\nimport ReactPlayer from 'react-player';\nimport { SongContext } from '../App';\nimport { GET_QUEUED_SONGS } from './graphql/queries';\nimport QueuedSongList from './QueuedSongList';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '0 15px',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  thumbnail: {\n    width: 150,\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n}));\n\nfunction SongPlayer() {\n  const { state, dispatch } = React.useContext(SongContext);\n  const [positionInQueue, setPositionInQueue] = React.useState(0);\n  const { data } = useQuery(GET_QUEUED_SONGS);\n\n  React.useEffect(() => {\n    const songIndex = data.queue.findIndex((song) => song.id === state.song.id);\n    setPositionInQueue(songIndex);\n  }, [data.queue, state.song.id]);\n\n  const [played, setPlayed] = React.useState(0);\n  React.useEffect(() => {\n    const nextSong = data.queue[positionInQueue + 1];\n    if (played >= 0.99 && nextSong) {\n      setPlayed(0);\n      dispatch({ type: 'SET_SONG', payload: { song: nextSong } });\n    }\n  }, [data.queue, dispatch, played, positionInQueue]);\n\n  const [seeking, setSeeking] = React.useState(false);\n\n  const [playedSeconds, setPlayedSeconds] = React.useState(0);\n\n  const reactPlayerRef = React.useRef();\n\n  function handleTogglePlay() {\n    dispatch(state.isPlaying ? { type: 'PAUSE_SONG' } : { type: 'PLAY_SONG' });\n  }\n\n  function handleProgressChange(event, newValue) {\n    setPlayed(newValue);\n  }\n\n  function handleSeekingMouseDown() {\n    setSeeking(true);\n  }\n\n  function handleSeekingMouseUp() {\n    setSeeking(false);\n    reactPlayerRef.current.seekTo(played);\n  }\n\n  function formatDuration(seconds) {\n    return new Date(seconds * 1000).toISOString().substr(11, 8);\n  }\n\n  function handlePlayPrev() {\n    const prevSong = data.queue[positionInQueue - 1];\n    if (prevSong) {\n      dispatch({ type: 'SET_SONG', payload: { song: prevSong } });\n    }\n  }\n\n  function handlePlayNext() {\n    const songNext = data.queue[positionInQueue + 1];\n    if (songNext) {\n      dispatch({ type: 'SET_SONG', payload: { song: songNext } });\n    }\n  }\n\n  const classes = useStyles();\n  return (\n    <>\n      <Card variant=\"outlined\" className={classes.container}>\n        <div className={classes.details}>\n          <CardContent className={classes.content}>\n            <Typography variant=\"h5\" component=\"h3\">\n              {state.song.title}\n            </Typography>\n\n            <Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\">\n              {state.song.artist}\n            </Typography>\n          </CardContent>\n          <div className={classes.controls}>\n            <IconButton>\n              <SkipPrevious onClick={handlePlayPrev} />\n            </IconButton>\n            <IconButton onClick={handleTogglePlay}>\n              {state.isPlaying ? (\n                <PauseSharp className={classes.playIcon} />\n              ) : (\n                <PlayArrow className={classes.playIcon} />\n              )}\n            </IconButton>\n            <IconButton>\n              <SkipNext onClick={handlePlayNext} />\n            </IconButton>\n            <Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\">\n              {formatDuration(playedSeconds)}{' '}\n            </Typography>\n          </div>\n          <Slider\n            onChange={handleProgressChange}\n            onMouseDown={handleSeekingMouseDown}\n            onMouseUp={handleSeekingMouseUp}\n            value={played}\n            type=\"range\"\n            min={0}\n            max={1}\n            step={0.01}\n          />\n        </div>\n        <ReactPlayer\n          ref={reactPlayerRef}\n          onProgress={({ played, playedSeconds }) => {\n            if (!seeking) {\n              setPlayed(played);\n              setPlayedSeconds(playedSeconds);\n            }\n          }}\n          playing={state.isPlaying}\n          url={state.song.url}\n          hidden\n        />\n        <CardMedia\n          className={classes.thumbnail}\n          loading=\"lazy\"\n          image={state.song.thumbnail}\n        />\n      </Card>\n      <QueuedSongList queue={data.queue} />\n    </>\n  );\n}\n\nexport default SongPlayer;\n","function songReducer(state, action) {\n  switch (action.type) {\n    case 'PLAY_SONG': {\n      return {\n        ...state,\n        isPlaying: true,\n      };\n    }\n    case 'PAUSE_SONG': {\n      return {\n        ...state,\n        isPlaying: false,\n      };\n    }\n    case 'SET_SONG': {\n      return {\n        ...state,\n        song: action.payload.song,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default songReducer;\n","import React from 'react';\nimport { Grid, Hidden, useMediaQuery } from '@material-ui/core';\n\nimport AddSong from './components/AddSong';\nimport Header from './components/Header';\nimport SongList from './components/SongList';\nimport SongPlayer from './components/SongPlayer';\nimport { useReducer } from 'react';\nimport songReducer from './components/reducer';\n\nexport const SongContext = React.createContext({\n  song: {\n    id: 'd6feea7f-29c5-41cb-a13f-ef38663e63b4',\n    artist: 'Sia',\n    title: 'The Greatest',\n    duration: 352,\n    url: 'https://www.youtube.com/watch?v=GKSRyLdjsPA',\n    thumbnail: 'https://img.youtube.com/vi/GKSRyLdjsPA/0.jpg',\n  },\n  isPlaying: false,\n});\n\nfunction App() {\n  const initialSong = React.useContext(SongContext);\n  const [state, dispatch] = useReducer(songReducer, initialSong);\n\n  const greaterThanSm = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  const greaterThanMd = useMediaQuery((theme) => theme.breakpoints.up('md'));\n\n  return (\n    <SongContext.Provider value={{ state, dispatch }}>\n      <Hidden only=\"xs\">\n        <Header />\n      </Hidden>\n      <Grid container spacing={3}>\n        <Grid\n          item\n          xs={12}\n          md={7}\n          style={{ paddingTop: greaterThanSm ? 80 : 10 }}\n        >\n          <AddSong />\n\n          <SongList />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          md={5}\n          style={\n            greaterThanMd\n              ? {\n                  position: 'fixed',\n                  top: 70,\n                  right: 0,\n                  width: '100%',\n                }\n              : {\n                  position: 'fixed',\n                  left: 0,\n                  bottom: 0,\n                  width: '100%',\n                }\n          }\n        >\n          <SongPlayer />\n        </Grid>\n      </Grid>\n    </SongContext.Provider>\n  );\n}\n\nexport default App;\n","import { createTheme } from '@material-ui/core/styles'\nimport { teal, purple } from '@material-ui/core/colors'\n\nconst theme = createTheme( {\n    palette: {\n        type: 'dark',\n        primary: teal,\n        secondary: purple\n    }\n} )\nexport default theme","import ApolloClient from 'apollo-client';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { gql } from '@apollo/client';\nimport { GET_QUEUED_SONGS } from './queries';\n\nconst client = new ApolloClient({\n  link: new WebSocketLink({\n    uri: 'wss://apollo-music-share-1.hasura.app/v1/graphql',\n    options: {\n      reconnect: true,\n      connectionParams: {\n        headers: {\n          contentType: 'application/json',\n          'x-hasura-admin-secret': process.env.REACT_APP_HASURA_CLIENT_SECRET,\n        },\n      },\n    },\n  }),\n  cache: new InMemoryCache(),\n  typeDefs: gql`\n    type Song {\n      id: uuid\n      title: String\n      artist: String\n      duration: Float\n      thumbnail: String\n      url: String\n    }\n    input SongInput {\n      id: uuid\n      title: String\n      artist: String\n      duration: Float\n      thumbnail: String\n      url: String\n    }\n    type Query {\n      queue: [Song]!\n    }\n    type Mutation {\n      addOrRemoveFromQueue(input: SongInput!): [Song]!\n    }\n  `,\n  resolvers: {\n    Mutation: {\n      addOrRemoveFromQueue: (_, { input }, { cache }) => {\n        const queryResult = cache.readQuery({\n          query: GET_QUEUED_SONGS,\n        });\n        if (queryResult) {\n          const { queue } = queryResult;\n          const isInQueue = queue.some((song) => song.id === input.id);\n          const newQueue = isInQueue\n            ? queue.filter((song) => song.id !== input.id)\n            : [...queue, input];\n          cache.writeQuery({\n            query: GET_QUEUED_SONGS,\n            data: { queue: newQueue },\n          });\n          return newQueue;\n        }\n        return [];\n      },\n    },\n  },\n});\n\nconst hasQueue = Boolean(localStorage.getItem('queue'));\n\nconst data = {\n  queue: hasQueue ? JSON.parse(localStorage.getItem('queue')) : [],\n};\n\nclient.writeData({ data });\n\nexport default client;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport { ApolloProvider } from '@apollo/client';\n\nimport App from './App';\nimport theme from './components/theme';\nimport client from './components/graphql/client';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <App />\n      </MuiThemeProvider>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}